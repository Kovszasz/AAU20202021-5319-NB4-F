# AAU20202021-5319-NB4-F
This is the repository file which contains all the input files and postprocessing scripts used for the long-term masters thesis project of AAU NB4 in 2020-2021. The purpose of this repository is to help future students who might continue this work. If there is any questions, I am glad to help!

Contact: Szabolcs Cselgo Kovacs: kovszasz@gmail.com
All required programs were used under the terms of Creative Commons CC BY license, open-source license or their respective Academic License, if required. For the computations Ubuntu 18.04 16-core and 32-core VM instances were used provided by the [CLAAUDIA system of AAU](https://git.its.aau.dk/CLAAUDIA/Compute_cloud_user_guides/src/branch/master/quick-start.md).
Required programs/languages:
- [Python3](https://www.python.org/downloads/)
- [PyRosetta4](http://www.pyrosetta.org/dow)
- [PyMol](https://pymol.org/2/)
- [PDB2PQR](https://www.cgl.ucsf.edu/chimera/docs/ContributedSoftware/apbs/pdb2pqr.html)
- [APBS](https://apbs.readthedocs.io/en/latest/)
- [Rosetta3 (mpi binaries)](https://doi.org/10.1016/B978-0-12-381270-4.00019-6)
- [AutoDockTools](http://autodock.scripps.edu/downloads)
- [AutoDockVina](http://vina.scripps.edu/download.html)
- [Obabell](https://openbabel.org/docs/dev/Command-line_tools/babel.html)
- [SeqLogo2.0](https://services.healthtech.dtu.dk/software.php)



#Docking
There were two docking simulations used: AutoDockTools and RosettaDock. 
The AutoDockTools was combined with PyRosetta to create different mutants from the cutinase enzyme:
- The whole design and docking protocol can start with *./mutate.sh* command which would start by generating mutants based on the *mutations.csv* file. The *mutations.csv* file is a config file, where the columns are id of the mutations, substituent amino acid, position of the mutation, chain id, respectively.
- The */mutate.sh* would automatically create the yaml config file based on the csv file and generates the desired mutants, while ddG will be calculated. The generated poses will be moved to the *docking/input_receptors* folder
- The docking can be started by *ipython docking_screening.py* command which would run the docking with AutoDock Vina and put the outputs in the outputs folder. A Pymol Session File will be also generated with the corresponding electrostatic isosurface generated by APBS which can be found in the *analyze* folder within the *docking* folder.
- (The scripts are not perfect, any modification is allowed)

The adapted scripts contain the original contact and citations within the script files. The RosettaDock was performed according to the docking.xml file which was written by RosettaScripts and based on the [small_molecule_docking tutorial](https://new.rosettacommons.org/docs/latest/application_documentation/docking/ligand-dock) 
- All necessary files can be found in the input_files folders, where the input_files_PETase contains all input files for docking experiments for PETase (PDB ID: 5XJH) while the normal input files is for the cutinase from Fusarium solani pisi (PDB ID: 1CEX)
- The experiments can be run by the *./run.sh* command which would generate 10000 poses for the given ligand and pose. The *InterfaceAnalyzer.py* file can be modified to filter docked poses based on the desired distance of two arbitrary atoms.

#EnzymeDesign
The enzymedesign utilizes the *enzymedesign.mpi.linuxgccrelease* binary of Rosetta3 and based  on [EnzymeDesign tutorial](https://new.rosettacommons.org/docs/latest/application_documentation/design/enzyme-design)
- The experiments can be run by the *./run.sh* commands which would generate 10000 poses for each experiments.
- Running the *./postprocessing.sh* would run the postprocessing which would filter the poses, minimize them with FastRelax protocol and generate the SeqLogos based on the resfile.


This repository serves as a complementary SupplementaryMaterial for the long-term master thesis of AAU which can be found in the AAU project library. The results of the thesis are not present in this repository because of the size.
